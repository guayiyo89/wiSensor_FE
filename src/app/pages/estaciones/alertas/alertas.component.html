<div class="text-right" *ngIf="codigo" style="cursor: pointer;" (click)="openModal(tableAlerta)">
    <span style="font-size: 3em" *ngIf="total_alertas_nv > 0"><fa-icon [icon]="faAlert" style="color: rgb(240, 47, 13)"></fa-icon> {{total_alertas_nv}}</span>
    <span style="font-size: 3em" *ngIf="total_alertas_nv == 0"><fa-icon [icon]="faOk" style="color: rgb(89, 190, 63)"></fa-icon> {{total_alertas_nv}}</span>    
</div>

<ng-template #tableAlerta let-modal>
    <div class="modal-header bg-dark">
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span></button> <h4 class="titClima">Alertas</h4> 
    </div>
    <table class="table table-dark">
        <thead>
            <tr>
              <th scope="col">Fecha</th>
              <th scope="col">Descripción</th>
              <th scope="col">Código</th>
              <th scope="col">Checkeada</th>
              <th scope="col">Tipo</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let alerta of alertasList_nv" (click)="cambiarVisto(alerta.id)">
                <td>{{alerta.created_at | fecha}} </td>
                <td>{{alerta.descripcion}} </td>
                <td *ngIf="alerta.severidad == 'warning'"> <span style="border-radius: 4px; background-color: rgb(255, 196, 0) ; color: black; font-size: 9pt; font-weight: bold;"> {{alerta.codigo}} </span> </td>
                <td *ngIf="alerta.severidad == 'error'"><span style="border-radius: 4px; background-color: rgb(206, 31, 7) ; color: rgb(236, 236, 236); font-size: 9pt; font-weight: bold;"> {{alerta.codigo}} </span> </td>
                <td>{{alerta.visto}} </td>
                <td>{{alerta.tipo}}</td>
            </tr>
        </tbody>
    </table>
</ng-template>